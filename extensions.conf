[from-internal]
; 播打給客房通知行李抵達, Asterisk分機100
exten = 100,1,Answer()
 same = n,Wait(1)
 same = n,Set(soundpath=/home/advrobot/robocall/sounds)
 same = n,Set(soundpath_en=/home/advrobot/robocall/sounds_en)
;
 same = n,WaitExten(1)
; 您的行李已送達, 請按0
 same = n,Background(${soundpath}/tts0)
;
 same = n,WaitExten(1)
; Your luggage is delivered, please press 0
 same = n,Background(${soundpath_en}/tts0)
;
 same = n,WaitExten(1)
; 您的行李已送達, 請按0
 same = n,Background(${soundpath}/tts0)
;
 same = n,WaitExten(1)
; Your luggage is delivered, please press 0
 same = n,Background(${soundpath_en}/tts0)
;
 same = n,WaitExten(1)
; 您的行李已送達, 請按0
 same = n,Background(${soundpath}/tts0)
;
 same = n,WaitExten(1)
; Your luggage is delivered, please press 0
 same = n,Background(${soundpath_en}/tts0)
;
 same = n,WaitExten(1)
; 您的行李已送達, 請按0
 same = n,Background(${soundpath}/tts0)
;
 same = n,WaitExten(1)
; Your luggage is delivered, please press 0
 same = n,Background(${soundpath_en}/tts0)
;
 same = n,WaitExten(1)
; 您的行李已送達, 請按0
 same = n,Background(${soundpath}/tts0)
;
 same = n,WaitExten(1)
; Your luggage is delivered, please press 0
 same = n,Background(${soundpath_en}/tts0)
;
 same = n,Hangup()
; 
; 用戶按了0, Asterisk分機0
exten = 0,1,NoOp()
 same = n,Set(soundpath=/home/advrobot/robocall/sounds)
 same = n,Set(soundpath_en=/home/advrobot/robocall/sounds_en)
 same = n,Set(d1=${pw:0:1})
 same = n,Set(d2=${pw:1:1})
 same = n,Set(d3=${pw:2:1})
 same = n,Set(d4=${pw:3:1})
;
 same = n,NoOp(KKUEI ext0)
; 親愛的貴賓您好我是和寶 您的行李已經送到房口囉 快來領取吧
 same = n,Playback(${soundpath}/tts1)
 same = n,WaitExten(1)
; 您設定的密碼為
 same = n,Playback(${soundpath}/pwPrompt)
 same = n,Playback(${soundpath}/${d1})
 same = n,Playback(${soundpath}/${d2})
 same = n,Playback(${soundpath}/${d3})
 same = n,Playback(${soundpath}/${d4})
 same = n,WaitExten(3)

; Dear guest, my name is HeBao. I just finished delivering your luggage. Please come and get it by door
 same = n,Playback(${soundpath_en}/tts1)
 same = n,WaitExten(1)
; Your password is
 same = n,Playback(${soundpath_en}/pwPrompt)
 same = n,Playback(${soundpath_en}/${d1})
 same = n,Playback(${soundpath_en}/${d2})
 same = n,Playback(${soundpath_en}/${d3})
 same = n,Playback(${soundpath_en}/${d4})
 same = n,WaitExten(3)
;
 same = n,Hangup()


; 請求移車 (remove_car_req) Asterisk分機200
exten = 200,1,Answer()
 same = n,Wait(3)
 same = n,Set(soundpath=/home/advrobot/robocall/sounds)
 same = n,Set(soundpath_en=/home/advrobot/robocall/sounds_en)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
;
 same = n,WaitExten(1)
; 機器人來電, 請按1
 same = n,Background(${soundpath}/1)
; 前台沒人接... 掛掉 上層重撥
 same = n,Hangup()



; 前台按了1, Asterisk分機1
exten = 1,1,NoOp()
 same = n,Set(soundpath=/home/advrobot/robocall/sounds)
 same = n,Set(soundpath_en=/home/advrobot/robocall/sounds_en)
 same = n,NoOp(KKUEI ext1)
; 前台分機號
 same = n,Set(d1=${ext:0:1})
 same = n,Set(d2=${ext:1:1})
 same = n,Set(d3=${ext:2:1})
 same = n,Set(d4=${ext:3:1})
 same = n,Playback(${soundpath}/${d1})
 same = n,Playback(${soundpath}/${d2})
 same = n,Playback(${soundpath}/${d3})
 same = n,Playback(${soundpath}/${d4})
 same = n,Wait(1)
; 目前所在房號
 same = n,Set(d1=${currentRoomId:0:1})
 same = n,Set(d2=${currentRoomId:1:1})
 same = n,Set(d3=${currentRoomId:2:1})
 same = n,Set(d4=${currentRoomId:3:1})
 same = n,Playback(${soundpath}/${d1})
 same = n,Playback(${soundpath}/${d2})
 same = n,Playback(${soundpath}/${d3})
 same = n,Playback(${soundpath}/${d4})
 same = n,Wait(1)
; 目的房號
 same = n,Set(d1=${targetRoomId:0:1})
 same = n,Set(d2=${targetRoomId:1:1})
 same = n,Set(d3=${targetRoomId:2:1})
 same = n,Set(d4=${targetRoomId:3:1})
 same = n,Playback(${soundpath}/${d1})
 same = n,Playback(${soundpath}/${d2})
 same = n,Playback(${soundpath}/${d3})
 same = n,Playback(${soundpath}/${d4})
 same = n,Wait(1)
;
 same = n,Hangup()


